<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Barchart Ninja</title>
   <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
     <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML">
        	MathJax.Hub.Config({extensions: ["tex2jax.js"],jax: ["input/TeX","output/HTML-CSS"], tex2jax: {inlineMath: [["\\(","\\)"]], processEscapes: true}
  });
    </script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/numeric/1.2.6/numeric.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/3.9.0/math.min.js"></script>
   <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
   
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.css">`
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathquill/0.10.1/mathquill.min.js" type="text/javascript"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.5.0/d3.min.js"></script>
     <script src="https://unpkg.com/d3-regression@1.3.4/dist/d3-regression.min.js"></script>
    
 </head>
<html>
<body>

<h1 align="center">Plot some functions</h1>
<div class="container-fluid">
			    <div class="row">
          			  
                      <div class="col-sm-3">
								  <div class="field  form-group">
									<label>Title</label>
					                <input id="title"  type="text"  class="form-control" />
					              </div>
                      </div>
                     
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Labelx</label>
					                <input id="labelx"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Labely</label>
					                <input id="labely"  type="text"  class="form-control" />
								  </div>
                      </div>
                      
              </div>
				<div class="row">
					  <div class="col-sm-3">

								  <div class="field form-group">
								    <label>Line1</label>
					                <input id="line1"  type="text"  class="form-control" />
								  </div>
					  </div>
					  <div class="col-sm-3">
								  <div class="field form-group">
								    <label>Equation1</label>
					                <input id="slope1"  type="text"  class="form-control" />
								  </div>
					  </div>
					  <div class="col-sm-3">

								  <div class="field form-group">
								    <label>Line2</label>
					                <input id="line2"  type="text"  class="form-control" />
								  </div>
					  </div>
					  <div class="col-sm-3">
								  <div class="field form-group">
								    <label>Equation1</label>
					                <input id="slope2"  type="text"  class="form-control" />
								  </div>
					  </div>
		         </div>
		         <div class="row">
		 			  <div class="col-sm-3">
								  <div class="field form-group ">
								    <label>Line3</label>
					                <input id="line3"  type="text"  class="form-control" />
								  </div>
					  </div>
					  <div class="col-sm-3">

								  <div class="field form-group  ">
								    <label>Equation3</label>
					                <input id="slope3"  type="text"  class="form-control" />
								  </div>
					  </div>
					  <div class="col-sm-3">

								  <div class="field  form-group">
								    <label>Line4</label>
					                <input id="line4"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-3">
								  <div class="field  form-group">
								    <label>Equation4</label>
					                <input id="slope4"  type="text"  class="form-control" />
								  </div>
                      </div>
          </div>
          
          <div class="row">
                      <div class="col-sm-2">
								  <div class="field  form-group">
								   <label>Min x</label>
					                <input id="minx"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Max x</label>
					                <input id="maxx"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Min y</label>
					                <input id="miny"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Max y</label>
					                <input id="maxy"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								   <label>X ticks</label>
					                <input id="xticks"  type="text"  class="form-control" />
								  </div>
                      </div>
                      <div class="col-sm-2">
								  <div class="field  form-group">
								    <label>Y ticks</label>
					                <input id="yticks"  type="text"  class="form-control" />
								  </div>
                      </div>
          </div>
          <div class="row">
          		
				<div class="col-sm-2">
					  <div class="field form-group">
                           
                                            <label>Option1</label>
                                            <select id="optionline1" class="form-control"><option value="solid">solid</option><option value="dash">dash</option><option value="dot">dot</option><option value="dash">dash</option><option value="dashdot">dashdot</option></select>
                                            
                     </div>
                </div>
                <div class="col-sm-2">
					  <div class="field form-group">
                           
                                           <label>Option2</label>
                                            <select id="optionline2" class="form-control"><option value="solid">solid</option><option value="dash">dash</option><option value="dot">dot</option><option value="dash">dash</option><option value="dashdot">dashdot</option></select>
                                            
                     </div>
                </div>
                <div class="col-sm-2">
					  <div class="field form-group">
                          
                                            <label>Option3</label>
                                            <select id="optionline3" class="form-control"><option value="solid">solid</option><option value="dash">dash</option><option value="dot">dot</option><option value="dash">dash</option><option value="dashdot">dashdot</option></select>
                                            
                     </div>
                </div>
                <div class="col-sm-2">
					  <div class="field form-group">
                           
                                            <label>Option4</label>
                                            <select id="optionline4" class="form-control"><option value="solid">solid</option><option value="dash">dash</option><option value="dot">dot</option><option value="dash">dash</option><option value="dashdot">dashdot</option></select>
                                            
                     </div>
                </div>
          </div> 
          
 
</div>


<div class="container-fluid">
	<div class="row">
	    <div class="col-sm-3">
				<button onclick="MakeGraphChart()" class="btn btn-primary"  style='width:100%' >View Graph To Review</button>
		</div>
		
	   
		
        
    </div>
<br>


			<div class="row">
						  <div class="col-sm-8">
									<div align="left"  style="height: 644px;border: solid black;">
									   <div align="center" id="plotly-div"></div>
									</div>
						  </div>
						  
			</div>
</div>



</body>
<script>
 $(document).on('click', '#refresh', function() {
      if (window.MathJax) {

							MathJax.Hub.Queue(
									["Typeset",MathJax.Hub]	
							);

	  }	
});                    
        
		var line1Input  = document.getElementById("line1");
		var slope1Input = document.getElementById("slope1");
		
		var line2Input = document.getElementById("line2");
		var slope2Input  = document.getElementById("slope2");
		
		var line3Input = document.getElementById("line3");
		var slope3Input  = document.getElementById("slope3");
		
		var line4Input = document.getElementById("line4");
		var slope4Input  = document.getElementById("slope4");
		
		
		
		var labelxInput = document.getElementById("labelx");
		var labelyInput = document.getElementById("labely");
		var titleInput = document.getElementById("title");
		var minxInput = document.getElementById("minx");
        var maxxInput = document.getElementById("maxx");
		var minyInput = document.getElementById("miny");
        var maxyInput = document.getElementById("maxy");
		var xtickInput = document.getElementById("xticks");
		var ytickInput = document.getElementById("yticks");
        var opt1Input = document.getElementById("optionline1");
		var opt2Input = document.getElementById("optionline2");
		var opt3Input = document.getElementById("optionline3");
		var opt4Input = document.getElementById("optionline4");
		
         function MakeGraphChart() {
                  
                
                 
		         xticks = (xtickInput.value);
		         yticks = (ytickInput.value);
				 labelx = (labelxInput.value);
				 labely = (labelyInput.value);
				 title = (titleInput.value);
				 line1 = (line1Input.value);
				 line2 = (line2Input.value);
				 line3 = (line3Input.value);
				 line4 = (line4Input.value);
				 
				 minx = (minxInput.value);
				 maxx = (maxxInput.value);
				 miny = (minyInput.value);
				 maxy = (maxyInput.value);
				 
				 slope1STR = (slope1Input.value);
				 slope2STR = (slope2Input.value);
				 slope3STR = (slope3Input.value);
				 slope4STR = (slope4Input.value);
				 
				 optionline1 = (opt1Input.value);
				 optionline2 = (opt2Input.value);
				 optionline3 = (opt3Input.value);
				 optionline4 = (opt4Input.value);
				 
				var xValues = numeric.linspace(minx, maxx, 200);
				var yValues = [];
	
				var x2Values = numeric.linspace(minx, maxx, 200);
				var y2Values = [];
                var x3Values = numeric.linspace(minx, maxx, 200);
				var y3Values = [];
				
				var x4Values = numeric.linspace(minx, maxx, 200);
				var y4Values = [];
				
				
                
                
                var node1 = math.parse(slope1STR);
			    var code1 = node1.compile();
				for (var i = 0; i < xValues.length; i++) {
				       scope1 = {x: xValues[i]};
					   answer1 = code1.eval(scope1);
					   yValues.push(answer1);
					
				};
	
				
				var node2 = math.parse(slope2STR);
			    var code2 = node2.compile();
				for (var i = 0; i < xValues.length; i++) {
				       scope2 = {x: x2Values[i]};
					   answer2 = code2.eval(scope2);
					   y2Values.push(answer2);
					
				};
	
				var node3 = math.parse(slope3STR);
			    var code3 = node3.compile();
				for (var i = 0; i < xValues.length; i++) {
				       scope3 = {x: x3Values[i]};
					   answer3 = code3.eval(scope3);
					   y3Values.push(answer3);
					
				};
                var node4 = math.parse(slope4STR);
			    var code4 = node4.compile();
				for (var i = 0; i < xValues.length; i++) {
				       scope4 = {x: x4Values[i]};
					   answer4 = code4.eval(scope4);
					   y4Values.push(answer4);
					
				};
				
				
               
				var trace1 = {
				  x: xValues,
				  y: yValues,
				  name: line1,
				  type: 'scatter',
				   mode: 'line',
				  line: {dash: optionline1, width: 4}
				};
	
				var trace2 = {
				  x: x2Values,
				  y: y2Values,
				  name: line2,
				  type: 'scatter',
				   mode: 'line',
				  line: {dash: optionline2, width: 4}
				};
				
				var trace3 = {
				  x: x3Values,
				  y: y3Values,
				  name: line3,
				  type: 'scatter',
				   mode: 'line',
				  line: {dash: optionline3, width: 4}
				};
				
				var trace4 = {
				  x: x4Values,
				  y: y4Values,
				  name: line4,
				  type: 'scatter',
				   mode: 'line',
				  line: {dash: optionline4, width: 4}
				};
				
				
				var layout = {title: {text: title, font: {size: 32}},
					  xaxis:{title: {text:labelx,font: {size:24}}, gridwidth: 2,tickfont: {size:16}, zerolinewidth: 6, 
					        nticks: xticks, gridcolor: 'black', range: [minx,maxx]},
					  yaxis: {title:  {text:labely,font: {size:24}},labely, gridwidth: 2, tickfont: {size:16},zerolinewidth: 6, 
					         nticks: yticks, gridcolor: 'black', range: [miny , maxy]},
						  
					  height: 500,
					  width: 650
					  
					  
					  
					};
					
				var data = [trace1, trace2, trace3, trace4];
				
				    
				Plotly.newPlot('plotly-div', data, layout);
				
		 if (window.MathJax) {

										MathJax.Hub.Queue(
												["Typeset",MathJax.Hub]	
										);

							}	
		}
</script>


